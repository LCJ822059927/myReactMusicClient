{"version":3,"sources":["common/image/album.png","action/singerAction.js","api/singer.js","api/singerDetails.js","components/Singer/SingerList/SingerList.js","components/Singer/Singer.js"],"names":["module","exports","__webpack_require__","d","__webpack_exports__","singerAction_singerAction","singerAction_singerDetailsAction","singerDetailsEmptyAction","singerAction","dispatch","Jsonp","g_tk","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","data","comm","ct","cv","singerList","method","param","area","sex","genre","index","sin","cur_page","then","res","code","type","dropDownRefershCache","singerDetailsAction","singer","currentSongNum","arguments","length","undefined","console","log","singermid","order","begin","num","songstatus","singerDetailsApi","SingerList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","history","push","imgOnload","e","target","parentNode","removeChild","setState","imgArr","state","map","item","i","src","react_default","a","createElement","key","className","singerlist","list","onClick","singer_mid","singer_id","onLoad","style","display","concat","alt","albumLogo","singer_name","Array","singerStore","fill","Component","Singer","Singerdisplay","flag","Scroll","top","bottom","playerStore","smallPlayer","scrollName","Singer_SingerList_SingerList","Loading","connect","scrollStore"],"mappings":"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","file":"static/js/2.1c0966c2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4BAMAAADLSivhAAAAHlBMVEXLy8u8vLy+vr7Hx8fFxcXBwcHExMS/v7/CwsLAwMAKdaVfAAAACnRSTlMzZVs7P01EVUhS0jME5AAAAm5JREFUWMPtWLFyEzEQVXxOcnSsfPbFXQRp6C4MMJRnKCBdaEILw9Anw6Sg40iRNpfJB2dlx34nJ9JGqvUKe+zTrnbfrla7pzIyMjIyMhgfvhsiffkrQXTvlh7w5kes7AkNcBcn+4lF6rPPSr37fUFER5Gy+mr946OJkn5LNG3ws/hG9PrZXLGscsDSEmtYOm+Ug6KHOslo3aotjI1gONad89f7P86/+9AYwoIO7Pb86aCjSpYtjOWmJKq3WdSNKDyiaml63T6y6FCm2m7cYRtsHSQcS3afDGsnxvrYUt0jLg7hE0HYaLvx3PNMCDJV1r4bTxBbgesbVlA//fCFwPeCGjXyrSmEPDFTa3XjC6MOu/yS9c98j3eoDbp86reawxB0eoctPvarL9gwP35qdqwOUDILCPd8DgeUnhi6dMjr5iGyJ0vOUEPdSsguKRXyqWTOVihpicrlJHCkzlXxv92commrvtCQv/3Awdq1uxabmNcNagAWeOAoXse7oAPHtECOtG6ar6wfZuBhMEcQtik0hrIEwgowFfyMFl6vK4elIVLYJSl5Z5gtE3YxWxeff9vCcqi6GhrdUMlJsjnXvRaTBFGBGZOVyzMxPaEY/llnix6WwjS5zCxIn33tSTcuo17QxG0RLE7lYoAyBJTEOJLLEArgEOPrv1dSAZR9AidC0Qfiij5KZ9x1g4sOiLroUHvSrtgRzl/85T6G8vi2Qhmd9AytFBDZSu2hxsc0cWgf/b2hhBEoi2pc0TIDES0zmnVGZLOOMQEQxoTEASV9NEofytLHwfRBNH0ETh++08f+1BcOr/iFQ0ZGRkZGhlL3FYxcnd2iqc4AAAAASUVORK5CYIIvKiAgfHhHdjAwfDI3MTAzYTc1ZWRmN2Y0MzQ1ZDFjMTc4N2IwYjM4ZDkyICov\"","import {singerApi} from '../api/singer';\r\nimport {singerDetailsApi} from '../api/singerDetails';\r\n\r\nexport const singerAction = () => {\r\n    return dispatch => {\r\n        return singerApi().then(res => {\r\n            if (res.code === 0) {\r\n                dispatch({type: 'singerList', data: res.singerList.data})\r\n            }\r\n        })\r\n    }\r\n};\r\nlet dropDownRefershCache = 0;\r\nexport const singerDetailsAction = (singer, currentSongNum = 0) => {\r\n    return dispatch => {\r\n        if (dropDownRefershCache === 1) {\r\n            return null\r\n        } else {\r\n            dropDownRefershCache = 1;\r\n            return singerDetailsApi(singer, currentSongNum).then(res => {\r\n                if (res.code === 0) {\r\n                    dropDownRefershCache = 0;\r\n                    dispatch({type: \"singerDetails\", data: res.data})\r\n                }\r\n            })\r\n        }\r\n    }\r\n};\r\n\r\nexport const singerDetailsEmptyAction = () => {\r\n    return dispatch => {\r\n        return dispatch({type: 'singerDetailsEmpty'})\r\n    }\r\n};\r\n","import Jsonp from '../common/js/myJsonp';\r\n\r\nexport const singerApi = () => {\r\n    const url = 'https://u.y.qq.com/cgi-bin/musicu.fcg?'\r\n    const Options = {\r\n        param: 'callback'\r\n    };\r\n    const data = {\r\n        g_tk: 1123594732,\r\n        loginUin: 822059927,\r\n        hostUin: 0,\r\n        format: 'jsonp',\r\n        inCharset: 'utf8',\r\n        outCharset: 'utf-8',\r\n        notice: 0,\r\n        platform: 'yqq',\r\n        needNewCode: 0,\r\n        data: {\r\n            \"comm\": {\"ct\": 24, \"cv\": 10000},\r\n            \"singerList\": {\r\n                \"module\": \"Music.SingerListServer\",\r\n                \"method\": \"get_singer_list\",\r\n                \"param\": {\"area\": -100, \"sex\": -100, \"genre\": -100, \"index\": -100, \"sin\": 0, \"cur_page\": 1}\r\n            }\r\n        }\r\n    }\r\n    return Jsonp(url, data, Options)\r\n}\r\n","import Jsonp from '../common/js/myJsonp';\r\n\r\nexport const singerDetailsApi = (singer,currentSongNum) => {\r\n    const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg?';\r\n    const Options = {\r\n        param: 'jsonpCallback'\r\n    };\r\n    console.log(currentSongNum)\r\n    const data = {\r\n        g_tk: 1123594732,\r\n        loginUin: 822059927,\r\n        hostUin: 0,\r\n        format: 'jsonp',\r\n        inCharset: 'utf8',\r\n        outCharset: 'utf-8',\r\n        notice: 0,\r\n        platform: 'yqq',\r\n        needNewCode: 0,\r\n        singermid: singer,\r\n        order: 'listen',\r\n        begin: currentSongNum,\r\n        num: 30,\r\n        songstatus: 1\r\n    };\r\n    return Jsonp(url, data, Options)\r\n};\r\n","import React, {Component} from 'react';\r\nimport './SingerList.styl';\r\nimport PropTypes from 'prop-types';\r\nimport albumLogo from '../../../common/image/album.png'\r\n/*\r\nimport Lazyload from 'react-lazyload';\r\nimport LazyImage from \"../../common/LazyImg/LazyImg\";\r\nimport Scroll from \"../../common/Scroll/Scroll\";\r\n*/\r\n\r\nclass SingerList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            imgArr:[]\r\n        }\r\n    }\r\n\r\n\r\n    static propTypes = {\r\n        singerDetailsEmptyAction: PropTypes.func.isRequired,\r\n        history: PropTypes.object.isRequired,\r\n        singerDetailsAction: PropTypes.func.isRequired,\r\n        singerStore: PropTypes.object.isRequired,\r\n    };\r\n    componentDidMount() {\r\n        this.setState({\r\n            imgArr:new Array(this.props.singerStore.singerlist.length).fill(albumLogo)\r\n        })\r\n    }\r\n\r\n    singerDetailsAction = (singer) => {\r\n        this.props.singerDetailsEmptyAction();\r\n        this.props.singerDetailsAction(singer);\r\n        this.props.history.push('/SingerDetails?singer_mid='+singer);\r\n    };\r\n    imgOnload=(e,index)=>{\r\n        e.target.parentNode.removeChild(e.target);\r\n        this.setState({\r\n            imgArr:this.state.imgArr.map((item,i)=>{\r\n            if(i===index){\r\n                item=e.target.src\r\n            }\r\n            return item\r\n        })\r\n        })\r\n    }\r\n    //---------------------------------------------------------------------------------------//\r\n    singerList = (data) => {\r\n        return (\r\n            <ul key='singer_listener'\r\n                className='singer_listener'\r\n            >\r\n                {data.singerlist.map((list,index) => {\r\n                    return (\r\n                        <li onClick={() => this.singerDetailsAction(list.singer_mid)} key={list.singer_id} className='singer_item'>\r\n                            <div className='singer_img'>\r\n                                <img onLoad={e=>this.imgOnload(e,index)} style={{display:'none'}} src={`http://y.gtimg.cn/music/photo_new/T001R150x150M000${list.singer_mid}.jpg?max_age=2592000`} alt=' '/>\r\n                                <img src={this.state.imgArr[index]?this.state.imgArr[index]:albumLogo} alt=' '/>\r\n                            </div>\r\n                            <div className='singer_name'>\r\n                                <span>{list.singer_name}</span>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            this.singerList(this.props.singerStore)\r\n        )\r\n    }\r\n}\r\n\r\nexport default SingerList;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {singerAction} from '../../action/singerAction';\r\nimport {singerDetailsAction} from \"../../action/singerAction\";\r\nimport {singerDetailsEmptyAction} from \"../../action/singerAction\";\r\nimport PropTypes from \"prop-types\";\r\n//引入组件\r\nimport SingerList from './SingerList/SingerList';\r\nimport Loading from '../common/Loading/Loading';\r\nimport Scroll from \"../common/Scroll/Scroll\";\r\n//import RouteAnimate from \"../common/routeAnimate/routeAnimate\";\r\n\r\nclass Singer extends Component {\r\n    static propTypes = {\r\n        singerStore: PropTypes.object.isRequired,\r\n        singerDetailsEmptyAction: PropTypes.func.isRequired,\r\n        singerDetailsAction: PropTypes.func.isRequired,\r\n        singerAction: PropTypes.func.isRequired,\r\n        scrollStore: PropTypes.object.isRequired,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.singerAction()\r\n    }\r\n\r\n    Singerdisplay = (singerStore) => {\r\n        if (singerStore.flag) {\r\n            return (\r\n                    <Scroll\r\n                        top={'5.7rem'}\r\n                        bottom={!this.props.playerStore.smallPlayer ? 0 : '10vh'}\r\n                        scrollName='singerListScroll'\r\n                    >\r\n                        <SingerList\r\n                            singerDetailsEmptyAction={this.props.singerDetailsEmptyAction}\r\n                            history={this.props.history}\r\n                            singerDetailsAction={this.props.singerDetailsAction}\r\n                            singerStore={singerStore}\r\n                        />\r\n                    </Scroll>\r\n            )\r\n        } else {\r\n            return <Loading/>\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {singerStore} = this.props;\r\n        return (\r\n            this.Singerdisplay(singerStore)\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        scrollStore: state.scrollStore,\r\n        singerStore: state.singerStore,\r\n        playerStore: state.playerStore\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {singerAction, singerDetailsAction, singerDetailsEmptyAction})(Singer);\r\n"],"sourceRoot":""}