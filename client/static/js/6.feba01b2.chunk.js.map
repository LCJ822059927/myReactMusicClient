{"version":3,"sources":["common/js/splitRoute.js","action/singerAction.js","api/singer.js","api/singerDetails.js","components/common/AddButtonAndLoveButton/AddButtonAndLoveButton.js","common/image/add.svg","common/image/love.svg","components/SingerDetails/SingerDetails1.js"],"names":["__webpack_exports__","search","searchArr","slice","split","newArr","i","length","push","__webpack_require__","d","singerAction_singerAction","singerAction_singerDetailsAction","singerDetailsEmptyAction","singerAction","dispatch","Jsonp","g_tk","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","data","comm","ct","cv","singerList","module","method","param","area","sex","genre","index","sin","cur_page","then","res","code","type","dropDownRefershCache","singerDetailsAction","singer","currentSongNum","arguments","undefined","console","log","singermid","order","begin","num","songstatus","singerDetailsApi","AddButtonAndLoveButton","songAdd","e","songList","currentPlaySong","playing","songmid","albummid","interval","singerName","songName","stopPropagation","_this","props","songAddAction","_this2","this","_this$props$playerSto","playerStore","_this$props","singer_name","songname","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react__WEBPACK_IMPORTED_MODULE_5__","onClick","className","src","addButton","alt","loveButton","Component","connect","state","exports","p","SingerDetails","singerDetailsBack","window","history","back","Singerdisplay","singerStore","flag","classnames","backButton","concat","singer_mid","total","ref","playAllSongAction","list","style","width","playLogo","_common_Scroll_Scroll__WEBPACK_IMPORTED_MODULE_14__","buttonAndTitle","refs","onSingerDetailsScroll","bottom","smallPlayer","scrollName","songlength","totalSong","singerMid","changeListLoadingAction","top","map","songPlayAction","musicData","key","Math","random","albumname","timeFormat","_common_AddButtonAndLoveButton_AddButtonAndLoveButton_js__WEBPACK_IMPORTED_MODULE_13__","_common_Message_Message__WEBPACK_IMPORTED_MODULE_18__","_common_Loading_Loading__WEBPACK_IMPORTED_MODULE_7__","spiltRoute","location","singerDetailsStore","scrollStore","listLoadingStore"],"mappings":"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","file":"static/js/6.feba01b2.chunk.js","sourcesContent":["export default (search) => {\r\n\r\n    let searchArr = search.slice(1).split('&')\r\n    let newArr = []\r\n    for (let i = 0; i < searchArr.length; i++) {\r\n        newArr.push(searchArr[i].split('='))\r\n    }\r\n    return newArr\r\n}\r\n","import {singerApi} from '../api/singer';\r\nimport {singerDetailsApi} from '../api/singerDetails';\r\n\r\nexport const singerAction = () => {\r\n    return dispatch => {\r\n        return singerApi().then(res => {\r\n            if (res.code === 0) {\r\n                dispatch({type: 'singerList', data: res.singerList.data})\r\n            }\r\n        })\r\n    }\r\n};\r\nlet dropDownRefershCache = 0;\r\nexport const singerDetailsAction = (singer, currentSongNum = 0) => {\r\n    return dispatch => {\r\n        if (dropDownRefershCache === 1) {\r\n            return null\r\n        } else {\r\n            dropDownRefershCache = 1;\r\n            return singerDetailsApi(singer, currentSongNum).then(res => {\r\n                if (res.code === 0) {\r\n                    dropDownRefershCache = 0;\r\n                    dispatch({type: \"singerDetails\", data: res.data})\r\n                }\r\n            })\r\n        }\r\n    }\r\n};\r\n\r\nexport const singerDetailsEmptyAction = () => {\r\n    return dispatch => {\r\n        return dispatch({type: 'singerDetailsEmpty'})\r\n    }\r\n};\r\n","import Jsonp from '../common/js/myJsonp';\r\n\r\nexport const singerApi = () => {\r\n    const url = 'https://u.y.qq.com/cgi-bin/musicu.fcg?'\r\n    const Options = {\r\n        param: 'callback'\r\n    };\r\n    const data = {\r\n        g_tk: 1123594732,\r\n        loginUin: 822059927,\r\n        hostUin: 0,\r\n        format: 'jsonp',\r\n        inCharset: 'utf8',\r\n        outCharset: 'utf-8',\r\n        notice: 0,\r\n        platform: 'yqq',\r\n        needNewCode: 0,\r\n        data: {\r\n            \"comm\": {\"ct\": 24, \"cv\": 10000},\r\n            \"singerList\": {\r\n                \"module\": \"Music.SingerListServer\",\r\n                \"method\": \"get_singer_list\",\r\n                \"param\": {\"area\": -100, \"sex\": -100, \"genre\": -100, \"index\": -100, \"sin\": 0, \"cur_page\": 1}\r\n            }\r\n        }\r\n    }\r\n    return Jsonp(url, data, Options)\r\n}\r\n","import Jsonp from '../common/js/myJsonp';\r\n\r\nexport const singerDetailsApi = (singer,currentSongNum) => {\r\n    const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg?';\r\n    const Options = {\r\n        param: 'jsonpCallback'\r\n    };\r\n    console.log(currentSongNum)\r\n    const data = {\r\n        g_tk: 1123594732,\r\n        loginUin: 822059927,\r\n        hostUin: 0,\r\n        format: 'jsonp',\r\n        inCharset: 'utf8',\r\n        outCharset: 'utf-8',\r\n        notice: 0,\r\n        platform: 'yqq',\r\n        needNewCode: 0,\r\n        singermid: singer,\r\n        order: 'listen',\r\n        begin: currentSongNum,\r\n        num: 30,\r\n        songstatus: 1\r\n    };\r\n    return Jsonp(url, data, Options)\r\n};\r\n","import React, {Component, Fragment} from 'react';\r\nimport './AddButtonAndLoveButton.styl';\r\nimport addButton from \"../../../common/image/add.svg\";\r\nimport loveButton from \"../../../common/image/love.svg\";\r\nimport {connect} from 'react-redux';\r\nimport {songAddAction} from \"../../../action/songPlayerAction\";\r\nimport propTypes from 'prop-types';\r\n\r\nclass AddButtonAndLoveButton extends Component {\r\n    static propTypes = {\r\n        playerStore: propTypes.object.isRequired,\r\n        songAddAction: propTypes.func.isRequired,\r\n    };\r\n\r\n    songAdd = (e, songList, currentPlaySong, playing, songmid, albummid, interval, singerName, songName) => {\r\n        e.stopPropagation();\r\n        this.props.songAddAction(\r\n            songList, currentPlaySong, playing,\r\n            songmid, albummid, interval,\r\n            singerName, songName)\r\n    };\r\n\r\n    render() {\r\n        const {songList, currentPlaySong, playing} = this.props.playerStore;\r\n        const {songmid, albummid, interval, singer_name, songname} = this.props;\r\n        return (\r\n            <Fragment>\r\n                <img\r\n                    onClick={(e) => this.songAdd(e, songList, currentPlaySong, playing, songmid, albummid, interval, singer_name, songname)}\r\n                    className='singer_details_add'\r\n                    src={addButton}\r\n                    alt=\"\"\r\n                />\r\n                <img\r\n                    className='singer_details_love'\r\n                    src={loveButton}\r\n                    alt=\"\"\r\n                />\r\n            </Fragment>\r\n        );\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        playerStore: state.playerStore\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {songAddAction})(AddButtonAndLoveButton)\r\n","module.exports = __webpack_public_path__ + \"static/media/add.5e7d1ca0.svg\";","module.exports = __webpack_public_path__ + \"static/media/love.e0432819.svg\";","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Loading from \"../common/Loading/Loading\";\r\nimport './singerDetails1.styl';\r\nimport PropTypes from 'prop-types';\r\nimport {songPlayAction, playAllSongAction} from '../../action/songPlayerAction';\r\nimport {singerDetailsAction} from '../../action/singerAction';\r\nimport {timeFormat} from '../../common/js/format';\r\nimport classnames from 'classnames';\r\nimport AddButtonAndLoveButton from '../common/AddButtonAndLoveButton/AddButtonAndLoveButton.js';\r\nimport Scroll from '../common/Scroll/Scroll';\r\nimport spiltRoute from '../../common/js/splitRoute';\r\n//svg\r\nimport playLogo from '../../common/image/play.svg';\r\nimport backButton from '../../common/image/back.svg';\r\nimport Message from \"../common/Message/Message\";\r\n\r\nclass SingerDetails extends Component {\r\n    static propTypes = {\r\n        singerDetailsStore: PropTypes.object.isRequired,\r\n        playerStore: PropTypes.object.isRequired,\r\n        scrollStore: PropTypes.object.isRequired,\r\n        songPlayAction: PropTypes.func.isRequired,\r\n        playAllSongAction: PropTypes.func.isRequired,\r\n        singerDetailsAction: PropTypes.func.isRequired,\r\n    };\r\n\r\n    singerDetailsBack = () => {\r\n        window.history.back()\r\n    };\r\n\r\n    componentWillMount() {\r\n        this.props.singerDetailsAction(spiltRoute(this.props.history.location.search)[0][1]);\r\n    }\r\n\r\n    Singerdisplay = (singerStore) => {\r\n        if (singerStore.flag) {\r\n            return (\r\n                <div className={classnames('singer_details_container')}>\r\n                    <div className='singer_details_back'>\r\n                        <img onClick={this.singerDetailsBack} src={backButton} alt=\"\"/>\r\n                    </div>\r\n                    <div className='singer_details_info'>\r\n                        <div className='singer_details_left'>\r\n                            <img\r\n                                src={`http://y.gtimg.cn/music/photo_new/T001R150x150M000${singerStore.singer_mid}.jpg?max_age=2592000`}\r\n                                alt=' '/>\r\n                        </div>\r\n                        <div className='singer_details_right'>\r\n                            <div className='singer_details_name'>\r\n                                {singerStore.singer_name}\r\n                            </div>\r\n                            <div className='singer_details_album'>\r\n                                单曲：{singerStore.total}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div ref='buttonAndTitle' className='singer_all_song_play'>\r\n                        <button onClick={() => this.props.playAllSongAction(singerStore.list, 'musicData')}\r\n                                className='play_btn'>\r\n                            <span>播放全部</span>\r\n                            <img style={{width: 20}} src={playLogo} alt=\" \"/>\r\n                        </button>\r\n                        <ul className='singer_details_song_title'>\r\n                            <li>歌曲</li>\r\n                            <li>专辑</li>\r\n                            <li>时长</li>\r\n                            <li>添加/收藏</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className='singer_details_song'>\r\n                        <Scroll\r\n                            buttonAndTitle={this.refs.buttonAndTitle}\r\n                            onSingerDetailsScroll={true}\r\n                            ref='singerDetailsScroll'\r\n                            bottom={!this.props.playerStore.smallPlayer ? 0 : '10vh'}\r\n                            scrollName='singerDetailsScroll'\r\n                            songlength={singerStore.list.length}\r\n                            singerDetailsAction={this.props.singerDetailsAction}\r\n                            totalSong={singerStore.total}\r\n                            singerMid={singerStore.singer_mid}\r\n                            changeListLoadingAction={this.props.changeListLoadingAction}\r\n                            top={'305px'}\r\n                        >\r\n                            {singerStore.list.map((list) => {\r\n                                return (\r\n                                    <ul\r\n                                        onClick={() => this.props.songPlayAction(this.props.playerStore.songList, list.musicData.songmid, list.musicData.albummid, list.musicData.interval, singerStore.singer_name, list.musicData.songname)}\r\n                                        key={Math.random()}\r\n                                        className='singer_details_song_item'\r\n                                    >\r\n                                        <li>{list.musicData.songname}</li>\r\n                                        <li>{list.musicData.albumname}</li>\r\n                                        <li>{timeFormat(list.musicData.interval)}</li>\r\n                                        <li className='singer_details_song_item_tools'>\r\n                                            <AddButtonAndLoveButton\r\n                                                songmid={list.musicData.songmid}\r\n                                                albummid={list.musicData.albummid}\r\n                                                interval={list.musicData.interval}\r\n                                                singer_name={singerStore.singer_name}\r\n                                                songname={list.musicData.songname}\r\n                                            />\r\n                                        </li>\r\n                                    </ul>\r\n                                )\r\n                            })}\r\n                        </Scroll>\r\n                    </div>\r\n                    <Message/>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <Loading/>\r\n            )\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {singerDetailsStore} = this.props;\r\n        return (\r\n            this.Singerdisplay(singerDetailsStore)\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        singerDetailsStore: state.singerDetailsStore,\r\n        playerStore: state.playerStore,\r\n        scrollStore: state.scrollStore,\r\n        listLoadingStore:state.listLoadingStore\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {songPlayAction, playAllSongAction, singerDetailsAction})(SingerDetails)\r\n"],"sourceRoot":""}